syntax = "proto3";

package testservice;

// Test service for integration testing
service TestService {
  // Simple unary call
  rpc Echo (EchoRequest) returns (EchoResponse);

  // Test with compression
  rpc CompressedEcho (EchoRequest) returns (EchoResponse);

  // Test with health check
  rpc HealthCheck (HealthCheckRequest) returns (HealthCheckResponse);

  // Test authentication
  rpc SecureEcho (EchoRequest) returns (EchoResponse);
}

message EchoRequest {
  string message = 1;
  int32 timestamp = 2;
}

message EchoResponse {
  string message = 1;
  int32 timestamp = 2;
  string server_info = 3;
}

message HealthCheckRequest {
  string service = 1;
}

message HealthCheckResponse {
  enum ServingStatus {
    UNKNOWN = 0;
    SERVING = 1;
    NOT_SERVING = 2;
    SERVICE_UNKNOWN = 3;
  }
  ServingStatus status = 1;
}
